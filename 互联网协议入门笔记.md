## Internet Protocol Suite(互联网协议组）
- [1.物理层](#物理层)
- [2.链接层](#链接层)
- [3.网络层](#网络层)
- [4.传输层（UDP和TCP）](#4传输层upd和tcp)
- [5.应用层](#应用层)

[维基百科互联网协议](https://zh.wikipedia.org/wiki/%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE)

## 互联网协议分层模型

网上有七层模型和四层模型，按照自己理解分五层模型，从下到上：1.物理层、2.链接层、3.网络层、4.传输层、5.应用层。越下面越靠近硬件，越上面越靠近用户。

## 1.物理层---传输0和1。
## 2.链接层---单纯的0和1没有意义，必须规定解读方式，多少人电信号算一组，每个信号位有何意义？这就是链路层的意义，规定0和1分组方式。

**链接层不能解决不同子网络之间的通信（MAC地址依广播方式传送）,所以网络层的出现解决不同子网之间的通信和传输**
2.1 以太网协议
   以太网规定一组信号组成一个帧（frame）,一个帧包含标头head和数据data。
   网卡（MAC地址）为48为二进制，12为十六进制表示。
   传播方式为广播。
   
## 3.网络层---网络层的诞生，它引入一套新的地址，使我们能够区分不同计算机是否属于同一个子网络。这套地址就叫做网络地址：网址。网络地址是管理员随机分配的，和MAC地址随机组合。
**网络地址确定计算机所在的子网络，MAC地址将数据包送到该子网络的目标网卡，**因此，从逻辑上可以推断，必定是先处理网络地址，然后再处理MAC地址。

3.1 IP地址

规定网络地址的协议，叫做IP协议。---IP协议现在用的是IPv4 是32位二进制组成：172.0.0.1（10101100 00000000 00000000 00000001）0.0.0.0~255.255.255.255

比如前24位表示网络号，后8位表示主机号，可是我们怎么知道前多少位代表网络号呢，所以就出现了**子网掩码**，如果已知网络部分是前24位，主机部分是后8位，那么子网络掩码就是11111111.11111111.11111111.00000000，写成十进制就是255.255.255.0

3.1.1. 判断是否在一个子网络方法：

知道"子网掩码"，我们就能判断，任意两个IP地址是否处在同一个子网络。方法是将两个IP地址与子网掩码分别进行AND运算（两个数位都为1，运算结果为1，否则为0），然后比较结果是否相同，如果是的话，就表明它们在同一个子网络中，否则就不是。

## 4.传输层（UDP和TCP）
有了MAC地址和IP地址就可以实现网络中两个主机之间的通信了，但是存在一个问题，现在计算机都是多线程，不同应用都需要用到网络，比如你一边浏览网页，一边和朋友聊天，那么计算机改如何确定发来的信息属于哪个呢？
**也就是说，我们还需要一个参数，表示这个数据包到底供哪个程序（进程）使用。这个参数就叫做"端口"（port）**
它其实是每个使用网卡的程序的编号，每个数据包就发送到特定的端口，所以不同的程序就能取到自己所需要的数据。"端口"是0到65535之间的一个整数，正好**16个二进制位**。0到1023的端口被系统占用，用户只能选用大于1023的端口。不管是浏览网页还是在线聊天，应用程序会随机选用一个端口，然后与服务器的相应端口联系。

**"传输层"的功能，就是建立"端口到端口"的通信。相比之下，"网络层"的功能是建立"主机到主机"的通信。只要确定主机和端口，我们就能实现程序之间的交流。因此，Unix系统就把主机+端口，叫做"套接字"（socket）。有了它，就可以进行网络应用程序开发了。**

## 5.应用层---"应用层"的作用，就是规定应用程序的数据格式。（不太理解）
应用层接收到“传输层”传来的数据，接下来要开始解读。由于互联网是开放的，数据五花八门，必须先规定好格式，否则根本无法解读。

![](https://github.com/gruad/growth/blob/master/images/protocol.png)
